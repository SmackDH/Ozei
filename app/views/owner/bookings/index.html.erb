<%= render "shared/navbar" %>
<div class="container mt-3 mb-3 d-flex flex-column"
    data-controller="restaurant-subscription"
    data-restaurant-subscription-owner-id-value="<%= current_user.id %>"
    data-action="click->restaurant-subscription#unmute"
  >
  <%= audio_tag "notification.mp3", class: "audio-play", muted: true, data: {restaurant_subscription_target: "notification"} %>
  <%# Booking pending %>
  <div class="bookings booking-pending-card" data-restaurant-subscription-target="bookings">
    <h1>New Requests</h1>
    <% @bookings.each do |booking| %>
      <%= render "card_product", booking: booking if booking.status = "pending" %>
    <% end %>
  </div>
  <%# Restaurant Accepted %>
  <hr class="line">
  <div class="bookings restaurant-accepted-card" data-restaurant-subscription-target="bookings">
    <h1>Accepted Requests</h1>
    <% @bookings.each do |booking| %>
      <%= render "card_product", booking: booking if booking.status = "restaurant_accepted" %>
    <% end %>
  </div>
  <hr class="line">
  <div class="accepted-rejected d-flex justify-content-between">
    <%# User Accepted %>
    <div class="bookings user-accepted-card" data-restaurant-subscription-target="bookings">
      <h1>Confirmed</h1>
      <% @bookings.each do |booking| %>
        <%= render "card_product", booking: booking if booking.status = "user_accepted" %>
      <% end %>
    </div>
    <hr class="line-vr">
    <div class="statistics-div">
      <h1>Statistics</h1>
      <div class="card-product mt-3 rounded d-flex flex-column">
        <div>
          Monthly Reservations
        </div>
        <%= render 'charts' %>
      </div>
    </div>
  </div>
  <%# pending, restaurant_accepted, user_accepted, restaurant_rejected, user_rejected %>
